---
title: "windowã®rootViewControllerã‚’å¤‰æ›´ã—ã¦ç”»é¢é·ç§»ã™ã‚‹æ–¹æ³•"
emoji: "ğŸ“²"
type: "tech"
topics:
  - "ios"
  - "swift"
  - "uikit"
published: true
published_at: "2022-06-20 11:26"
---

æ–°ã—ã„ç”»é¢é·ç§»ã®æ–¹æ³•ã‚’å­¦ã‚“ã ã‹ã‚‰åŠåˆ†ãƒ¡ãƒ¢æ›¸ãæ„Ÿè¦šã§æ›¸ã„ã¦ã„ãã§ã€œ
è¨‚æ­£ã€ç·¨é›†ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€æ„Ÿæ¿€ã‚„ã§ã€œ

# ç›®çš„
ä½œæˆã—ãŸã„ã‚‚ã®ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸã‚‰ç”»é¢é·ç§»ã™ã‚‹æ©Ÿèƒ½ã€‚

![](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/707293/05a0791c-4e25-03c0-ecab-14589ce5ff05.gif =350x)

ã“ã‚Œã‚’ã€Segueç­‰ã‚’ä½¿ã‚ãªã„ã‚„ã‚Šæ–¹ã§ç”»é¢é·ç§»ã•ã›ã‚‹ã€‚
è¦ã¯ã€RootViewControllerã‚’ä½¿ã£ã¦ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã§ç”»é¢é·ç§»ã‚’ã•ã›ã‚‹ã€‚

# ç’°å¢ƒ
- macOS Monterey: Version12.4
- Xcode: Version 13.4.1
- Swift: Version 5.6.1

# å‰æ
[ã‚³ãƒãƒ©ã®è¨˜äº‹](https://zenn.dev/nkysyuichi/articles/c3c2a6a63e1404)ã‚’å‚è€ƒã«ã€
1. AppDelegateã‹ã‚‰`// MARK: UISceneSession Lifecycle`ä»¥é™ã®ã‚³ãƒ¼ãƒ‰ã‚’å‰Šé™¤ã™ã‚‹
1. AppDelegateã«windowãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ 
1. Info.plistã‹ã‚‰UIApplicationSceneManifestã‚’å…¨ã¦å‰Šé™¤
1. SceneDelegate.swiftã‚’å‰Šé™¤ã™ã‚‹

ã‚’è¡Œã„ã¾ã™ã€‚
æ­£ç›´ã€å‰Šé™¤ã—ã¦ã‚‚ã—ãªãã¦ã‚‚è‰¯ã„ãŒã€2ã®`window`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã ã‘ã¯è¿½åŠ ã—ã¦ã„ã¦æ¬²ã—ã„ã€‚

ãªã®ã§ã€`AppDelegate.swift`ã¯ã€
```swift:AppDelegate.swift
import UIKit

@main
class AppDelegate: UIResponder, UIApplicationDelegate {
    var window: UIWindow?

    func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {
        return true
    }
}

```
ã¨ãªã£ã¦ã„ã‚‹ã€‚

# Storyboardã§ã®è¨­å®š
ViewControllerã‚’è¿½åŠ ã—ã¦ã„ãã€‚ä»Šå›ã¯ã‚ã‹ã‚Šã‚„ã™ã„ã‚ˆã†ã«ã€é’ã€é»„ã€èµ¤ã®ç”»é¢ã‚’ãã‚Œãã‚Œã€`FirstViewController`, `SecondViewController`, `ThirdViewController`ã¨ã—ãŸã€‚
![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-06-16 22.29.01.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/707293/40647eee-c19f-39d0-dc90-3ec0c51bebc1.png)

æ¬¡ã«ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ç”»é¢é·ç§»ã™ã‚‹ã‚ˆã†ã«ãƒœã‚¿ãƒ³ã‚’é…ç½®ã—ã¦ã„ãã€‚é…ç½®ã—ãŸã‚‚ã®ãŒã‚³ãƒãƒ©â†“
![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-06-16 22.32.41.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/707293/8067ec2f-67fe-739c-d439-7896dd09cdad.png)
æœ€å¾Œã«ã€`Storyboard ID`ã‚’è¨­å®šã™ã‚‹ã€‚
ä»Šå›ã¯ã€`FirstViewController`, `SecondViewController`, `ThirdViewController`ãªã®ã§ã€é †ç•ªã«`FirstVC`, `SecondVC`, `ThirdVC`ã¨ã™ã‚‹ã€‚
![](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/707293/faf9cd34-540a-874e-a395-66d4d4f50527.png =350x)

ã“ã‚Œã§æº–å‚™ã¯OKã€‚ç‰¹ã«`Storyboard ID`ã‚’è¨­å®šã¯å¿˜ã‚Œãªã„ã‚ˆã†ã«

# AppDelegateã§ã®è¨­å®š

```diff_swift: AppDelegate.swift
import UIKit

@main
class AppDelegate: UIResponder, UIApplicationDelegate {
    var window: UIWindow?
+    let storyboard = UIStoryboard(name: "Main", bundle: nil)

    func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {
+        self.window = UIWindow(frame: UIScreen.main.bounds)
+        self.window?.makeKeyAndVisible()
+        let initialViewController = self.storyboard.instantiateViewController(withIdentifier: "FirstVC")
+        self.window?.rootViewController = initialViewController

        return true
    }
    
+    func switchViewController(identifier: String) {
+        UIView.transition(with: self.window!, duration: 0.5, options: .transitionCrossDissolve, animations: {
+            let oldState: Bool = UIView.areAnimationsEnabled
+            UIView.setAnimationsEnabled(false)
+            self.window?.rootViewController = self.storyboard.instantiateViewController(withIdentifier: identifier)
+            UIView.setAnimationsEnabled(oldState)
+        }, completion: nil)
+    }
}
```

# ViewControllerã§ã®è¨­å®š
UIãƒ‘ãƒ¼ãƒ„ã¨ã‚³ãƒ¼ãƒ‰ã‚’ç´ä»˜ã‘ã™ã‚‹ã¨ã€â†“ã®ã‚ˆã†ã«ãªã‚‹
```diff_swift:ã€€FirstViewController
import UIKit

final class FirstViewController: UIViewController {

    override func viewDidLoad() {
        super.viewDidLoad()

        // Do any additional setup after loading the view.
    }
    
+   @IBAction private func goToSecondVCButton(_ sender: Any) {
+   }
    
}
```
ãƒ¡ã‚½ãƒƒãƒ‰ã®å‘½åãŒç„¡èŒ¶è‹¦èŒ¶ãªã®ã¯ã”æ„›å¬Œã¨ã„ã†ã“ã¨ã§ğŸ’¦

æ¬¡ã«ã€ç”»é¢é·ç§»ã‚’ã•ã›ã‚‹ãŸã‚ã«ã€`func goToSecondVCButton`ã«å…ˆã»ã©ä½œæˆã—ãŸ`func switchViewController(identifier: String)`ã‚’å‘¼ã°ã›ã‚‹ã€‚

ãã†ã™ã‚‹ã¨ã€â†“ã®ã‚ˆã†ã«ãªã‚‹ã€‚
```diff_swift: FirstViewController
import UIKit

final class FirstViewController: UIViewController {

    override func viewDidLoad() {
        super.viewDidLoad()

        // Do any additional setup after loading the view.
    }
    
    @IBAction private func goToSecondVCButton(_ sender: Any) {
+        guard let appDelegate = UIApplication.shared.delegate as? AppDelegate else { return }
+        appDelegate.switchViewController(identifier: "SecondVC")
    }
}
```
åŒæ§˜ã®ã“ã¨ã‚’`SecondViewController`, `ThirdViewController`ã«ã‚‚è¡Œã†ã€‚
```diff_swift: SecondViewController
import UIKit

final class SecondViewController: UIViewController {

    override func viewDidLoad() {
        super.viewDidLoad()

        // Do any additional setup after loading the view.
    }
    
+    @IBAction private func goToThirdVCButton(_ sender: Any) {
+        guard let appDelegate = UIApplication.shared.delegate as? AppDelegate else { return }
+        appDelegate.switchViewController(identifier: "ThirdVC")
+    }
}
```

```diff_swift: ThirdViewController
import UIKit

final class ThirdViewController: UIViewController {

    override func viewDidLoad() {
        super.viewDidLoad()

        // Do any additional setup after loading the view.
    }

+    @IBAction private func goToFirstVCButton(_ sender: Any) {
+        guard let appDelegate = UIApplication.shared.delegate as? AppDelegate else { return }
+        appDelegate.switchViewController(identifier: "FirstVC")
+    }
}
```
ã“ã‚Œã§ã€Segueã‚’ä½¿ã‚ãšã«RootViewControllerã‚’ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã§ç”»é¢é·ç§»ã™ã‚‹ã“ã¨ãŒã§ããŸã€‚

# å‚è€ƒæ–‡çŒ®

https://en.swiswiswift.com/2019-02-01/

https://qiita.com/tomu28/items/4bb327a8f80c042e41a1











